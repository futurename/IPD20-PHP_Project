{% extends "layouts/layout.html.twig" %}

{% block title %}
    Car selection
{% endblock title %}

{% block section %}
    <div>
        <div class="w-full">
            <span class="font-bold text-4xl text-dark">CHOOSE A VEHICLE CLASS</span>
            <div class="float-right">
                <span class="font-bold">SORT BY</span>
                <select>
                    <option>Featured</option>
                    <option>Price low to high</option>
                    <option>Price high to low</option>
                </select>
            </div>
        </div>
        <div class="flex flex-row ">
            <div class="bg-red-400 w-1/5">
                <div class="border-solid border-2 border-teal-800">
                    <p class="font-bold text-xl">Filters</p>
                    <div>
                        <div>
                            <span class="font-bold text-base">VEHICLE TYPE</span>
                            <span class="">Total from</span>
                        </div>

                        <ul>
                            <li>
                                <input type="checkbox" name="Car" onchange="toggleVehicleType(this);">
                                <span class="font-bold">Cars</span>
                                <span>CAD21</span>
                            </li>
                            <li>
                                <input type="checkbox" name="SUV" onchange="toggleVehicleType(this)">
                                <span class="font-bold">SUVs</span>
                                <span>CAD29</span>
                            </li>
                            <li>
                                <input type="checkbox" name="Van" onchange="toggleVehicleType(this)">
                                <span class="font-bold">Vans</span>
                                <span>CAD40</span>
                            </li>
                            <li>
                                <input type="checkbox" name="Truck" onchange="toggleVehicleType(this)">
                                <span class="font-bold">Trucks</span>
                                <span>CAD63</span>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <p class="font-bold text-base">NUMBER OF PASSENGERS</p>
                        <ul>
                            <li>
                                <input type="checkbox" name="bags_4" value="4" onchange="toggleBags(this)">
                                <span class="font-bold">4+</span>
                                <span>CAD21</span>
                            </li>
                            <li>
                                <input type="checkbox">
                                <span class="font-bold">5+</span>
                                <span>CAD21</span>
                            </li>
                            <li>
                                <input type="checkbox">
                                <span class="font-bold">7+</span>
                                <span>CAD40</span>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <p class="font-bold text-base">NUMBER OF BAGS</p>
                        <ul>
                            <li>
                                <input type="checkbox">
                                <span class="font-bold">3+</span>
                                <span>CAD21</span>
                            </li>
                            <li>
                                <input type="checkbox">
                                <span class="font-bold">4+</span>
                                <span>CAD21</span>
                            </li>
                            <li>
                                <input type="checkbox">
                                <span class="font-bold">5+</span>
                                <span>CAD40</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="bg-blue-400 w-4/5 " id="vehicleList">
                {% for vehicle in allVehicles %}

                    <div class="flex flex-row {{ vehicle.category }} {{ "bags_" ~ vehicle.bags }} {{ "passengers_" ~ vehicle.passengers }}">
                        <div class="m-2 w-1/3">
                            <img src= {{ vehicle.photoPath }} width="300"/>
                        </div>
                        <div class="flex flex-col m-2 w-2/3">
                            <div>
                                <p class="font-bold text-2xl">{{ vehicle.subtype }}</p>
                            </div>
                            <div class="flex flex-row">
                                <div class="w-1/2">
                                    <p>{{ vehicle.description }}</p><br>
                                    <i class="material-icons">directions_car</i>
                                    <span>{{ vehicle.passengers }} People</span><br>
                                    <i class="material-icons">work</i> <span>{{ vehicle.bags }} Bags</span>
                                </div>
                                <div class="">
                                    <p class="text-lg font-bold">CAD
                                        <span>{{ vehicle.dailyPrice }}</span></p><br><br>
                                    <button class="font-bold text-lg px-4 py-1 text-blue-800 bg-yellow-100 border-solid border-teal-800 border-2">
                                        Select
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <script>
        function toggleBags(element) {
            var bagNum = $(element).val();

        }

        function toggleVehicleType(element) {
            if ($(element).prop("checked") === true) {
                $(`.${element.name}`).hide();
            } else {
                $(`.${element.name}`).show();
            }
        }

        $(document).ready(function () {
            $("button").on("click", function () {
                document.location.href = "/review_reserve";
            })


        })
    </script>

{% endblock section %}